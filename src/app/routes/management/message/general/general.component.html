<section class="block">
  <div class="mx-auto pl-4">
    <div class="flex flex-wrap">
      <div class="w-full">
        <div
          class="relative w-full bg-white rouded-[0.3rem] h-[90vh] overflow-hidden min-h-[calc(100%_-_1rem)]"
        >
          <!-- chatlist -->
          <div
            class="outline-0 h-full overflow-hidden w-[300px] float-left py-4 border-r border-solid border-border"
          >
            <div class="h-full">
              <div class="h-full outline-0">
                <div class="chat-header">
                  <div class="flex items-center justify-between pr-4 gap-x-4">
                    <input
                      type="text"
                      class="block w-[80%] py-[0.375rem] px-[0.75rem] leading-6 text-[#222] bg-white border border-solid border-[#ccc] appearance-none rounded-[0.25rem] transition-colors focus:outline-0 focus:shadow-[inherit]"
                      id="inlineFormInputGroup"
                      placeholder="Search"
                      aria-label="search"
                    />
                    <a
                      class="reload rounded-full"
                      href="javascript:void(0)"
                      (click)="reload()"
                    >
                      <span
                        nz-icon
                        nzType="reload"
                        nzTheme="outline"
                        class="!text-xl"
                      ></span>
                    </a>
                    <a class="add" href="#">
                      <span
                        nz-icon
                        nzType="plus"
                        nzTheme="outline"
                        class="!text-xl"
                      ></span>
                    </a>
                  </div>
                </div>

                <div class="max-h-full overflow-y-auto">
                  <!-- chat-list -->
                  <div class="chat-lists">
                    <div class="tab-content" id="myTabContent">
                      <div
                        class="md:hidden block absolute bottom-[3px] left-[34px] h-[12px] w-[12px] bg-[#00DB75] rounded-full border-2 border-solid border-white"
                        id="Open"
                        role="tabpanel"
                        aria-labelledby="Open-tab"
                      >
                        <!-- chat-list -->
                        <chat-list [chats]="chats" />
                        <!-- chat-list -->
                      </div>
                      <div class="mt-4">
                        <!-- chat-list -->
                        <default-loading
                          *ngIf="loading"
                          class="w-full flex items-center justify-center py-3"
                          iconClass="!text-2xl !text-primary"
                        />
                        <div class="chat-list" *ngIf="!loading">
                          <a
                            href="javascript:void(0)"
                            class="flex items-center mb-4 relative no-underline"
                            *ngFor="let chat of chats"
                            (click)="userClicked(chat)"
                          >
                            <div
                              class="flex-shrink-0 rounded-full overflow-hidden w-11 h-11 bg-cover"
                            >
                              <img
                                class="img-fluid"
                                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTDgSUH5DEGjn9xZFzG-dsi3sQBDcY1ELtj41U-mO56EJlRfiT97PROcW4WVqooypa2caA&usqp=CAU"
                                alt="user img"
                                loading="lazy"
                              />
                              <span
                                class="block absolute bottom-[3px] left-[34px] h-[12px] w-[12px] bg-[#00DB75] rounded-full border-2 border-solid border-white"
                              ></span>
                            </div>
                            <div class="flex-grow-1 ms-3">
                              <h3
                                class="text-[#222] text-[16px] font-medium leading-6 capitalize mb-0"
                              >
                                {{ chat.customerEmail || "No customer yet" }}
                              </h3>
                              <p
                                class="text-gray-400 text-xs leading-6 capitalize mb-0"
                              >
                                {{ chat.message || "No message here" }}
                              </p>
                            </div>
                          </a>
                        </div>
                        <!-- chat-list -->
                      </div>
                    </div>
                  </div>
                  <!-- chat-list -->
                </div>
              </div>
            </div>
          </div>
          <!-- chatlist -->

          <!-- chatbox -->
          <chat-box 
            [chat]="chat" 
            [resetChat]="resetChat"
            [onReload]="reload"
          />
          <!-- chatbox -->
        </div>
      </div>
    </div>
  </div>
</section>
